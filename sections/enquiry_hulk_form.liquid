{% stylesheet %}
      .enquiry-section {
        background-size: cover;
        background-position: right;
        padding-top:20px;
      }
      @media (max-width: 768px) {

        .enquiry-section.mobile-bg {
          background-size: cover;
         background-position: top;
        }
      }

      /* Grid container */
      .enquiry-grid {
        display: grid;
        grid-template-columns: 3fr 6fr;
        gap: 60px;
        /* max-width: 1200px; */
        margin: 6rem;
        margin-bottom:0;
        /* background: #fff; */
        border-radius: 16px;
        /* padding: 2rem; */
        align-items: flex-start;
      }

      @media (max-width: 768px) {
        .enquiry-grid {
          grid-template-columns: 1fr;
          gap: 20px;
          margin: 2rem;
        }

      }

      /* Button section */
      .button-area {
        margin-top:170px;
        display: flex;
        /* flex-direction: column; */
        justify-content: center;
        gap: 1rem;
      }

      .button-area .btn {
        display: inline-block;
        padding: 12px 24px;
        /* background-color: #000; */
        color: #fff;
        border-radius: 60px;
        border:2px solid black;
        text-align: center;
        text-decoration: none;
        width: fit-content;
      }

    #btn-1{
         color: white;
      font-size:medium;
      background-color: black;
      cursor: pointer;
    }
      #btn-2{
      color: black;

      }
      /* Form section */
      .hulk-form-wrapper {
        border-top-left-radius: 25px;
        border-top-right-radius: 25px;

        width: 90%;
        background: #FFF8F4;

      }
      @media (max-width: 768px) {
        .button-area {
        margin-top:300px;
          flex-direction: column;
                  margin-left: 10%;
          margin-right: 10%;
        }
        .button-area .btn {
          width: 100%;
        }
        .hulk-form-wrapper {
          width: 100%;
        }
      }
     @media (max-width: 430px) {
        .button-area {
        margin-top:150px;
        }
     }
    @media (min-width: 1000px) and (max-width: 1400px) {

  .enquiry-section {
      background-position: left -90px top;
    }
  }
{% endstylesheet %}

{% javascript %}
  document.addEventListener("DOMContentLoaded", function () {
    const section = document.querySelector(".enquiry-section");
    if (window.innerWidth <= 768 && section.dataset.bgMobile) {
      section.style.backgroundImage = `url(${section.dataset.bgMobile})`;
      section.classList.add("mobile-bg");
    }
  });
{% endjavascript %}
<script>
   function downloadCatalogue() {
    // debugger
    // event.preventDefault(); 
    const fileUrl = '{{ section.settings.button_1_link }}';
    // const fileUrl = 'https://cdn.shopify.com/s/files/1/0689/3014/2515/files/TGS_New_Intro_Deck_FY26.pdf?v=1747816368'; // Replace with the actual file URL
    // const fileUrl = 'https://cdn.shopify.com/s/files/1/0689/3014/2515/files/TGS_Introduction_1_1.pdf?v=1737032149'; // Replace with the actual file URL
    const fileName = 'Corporate_Catalogue_2025.pdf'; // Desired file name

    fetch(fileUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error(`Failed to fetch file: ${response.statusText}`);
            }
            return response.blob(); // Get the file as a blob
        })
        .then(blob => {
            // Create a temporary link element
            const url = window.URL.createObjectURL(blob);
            const anchor = document.createElement('a');
            anchor.href = url;
            anchor.download = fileName; // Set the desired file name

            // Trigger the download
            document.body.appendChild(anchor);
            anchor.click();

            // Clean up
            document.body.removeChild(anchor);
            window.URL.revokeObjectURL(url);
        })
        .catch(error => console.error('Error downloading file:', error));
}
</script>

<div
  class="enquiry-section"
  style="background-image: url({{ section.settings.bg_image_desktop | img_url: '1920x' }});"
  data-bg-mobile="{{ section.settings.bg_image_mobile | img_url: '768x' }}"
>
  <div class="enquiry-grid">
    <!-- Left Button Area -->
    <div class="button-area">
      {% if section.settings.button_1_link and section.settings.button_1_text %}
      
     <button type="button" id="btn-1" class="btn"  onclick="downloadCatalogue()">
      Download Catalogue
    </button>
      {% endif %}
      
      {% if section.settings.button_2_link and section.settings.button_2_text %}
        <a href="{{ section.settings.button_2_link }}" id="btn-2" class="btn">
          {{- section.settings.button_2_text -}}
        </a>
      {% endif %}
    </div>

    <!-- Right Form Area with CLS prevention -->
    <div class="hulk-form-wrapper">
      <div class="hulk-form-container" style="height: auto; min-height: 662px;">
          {% render 'corporate_native_form' %}

      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Hulk Enquiry Section",
  "settings": [
    {
      "type": "image_picker",
      "id": "bg_image_desktop",
      "label": "Background Image (Desktop)"
    },
    {
      "type": "image_picker",
      "id": "bg_image_mobile",
      "label": "Background Image (Mobile)"
    },
    {
      "type": "text",
      "id": "button_1_text",
      "label": "Button 1 Text",
      "default": "Download Catalogue"
    },
    {
      "type": "url",
      "id": "button_1_link",
      "label": "Button 1 Link"
    },
    {
      "type": "text",
      "id": "button_2_text",
      "label": "Button 2 Text",
      "default": "Talk to Our Concierge"
    },
    {
      "type": "url",
      "id": "button_2_link",
      "label": "Button 2 Link"
    },
    {
      "type": "textarea",
      "id": "hulk_form_embed",
      "label": "Hulk Form Embed Code",
      "info": "Paste the embed code or script from Hulk Form Builder"
    }
  ],
  "presets": [
    {
      "name": "Hulk Enquiry Form Section"
    }
  ]
}
{% endschema %}
